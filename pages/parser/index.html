<!doctype html><html lang="en"><head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="Tybalt">
        <meta property="og:description" content="A framework for writing web components.">
        <meta property="og:image" content="https://doug-wade.github.io/tybalt/img/favico.png">

        <title>Tybalt parser</title>
        <link rel="manifest" href="manifest.json">
        <link rel="shortcut icon" type="image/png" href="img/favico.png">
        <link href="/css/base.css" rel="stylesheet">
        <link href="/css/page.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
        <link href="https://fonts.googleapis.com/css2?family=DM+Mono&amp;family=DM+Sans:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet">
        <link href="https://unpkg.com/prism-themes@1.9.0/themes/prism-night-owl.css" rel="stylesheet">

        <!-- Sentry tag -->
        <script crossorigin="anonymous" src="https://js.sentry-cdn.com/93129628db91d6ba5031c0453b456533.min.js"></script>
        <script>
            if (window.Sentry) {
                Sentry.init({
                    release: "@tybalt/website@0.1.10+e25b19591bbe9fefd7976708a5190eb48d5761d9",
                    environment: "staging",
                    dsn: "https://93129628db91d6ba5031c0453b456533@o4506661698535424.ingest.sentry.io/4506758769737728",
                    tracesSampleRate: 1.0,
                    tracePropagationTargets: ["localhost", /^https:\/\/tybalt\.org/],
                    replaysSessionSampleRate: 0.1,
                    replaysOnErrorSampleRate: 1.0,
                });
            }
        </script>

        <!-- Service Worker -->
        <script>
            if ("serviceWorker" in navigator) {
              navigator.serviceWorker
                .register("/service-worker.js")
                .then((registration) => {
                  registration.addEventListener("updatefound", () => {
                    const newWorker = registration.installing;
                    newWorker.addEventListener("statechange", () => {
                      if (newWorker.state === "installed") {
                        if (navigator.serviceWorker.controller) {
                          // New service worker installed and registered, we reload the page
                          window.location.reload();
                        }
                      }
                    });
                  });
                })
                .catch((error) => {
                  console.error("Service Worker registration failed:", error);
                });
            }
          </script>
    </head>
    <body>
        <div id="app">
            <tybalt-header></tybalt-header>
            <div id="content">
                <tybalt-sidebar></tybalt-sidebar>
                <div class="tybalt-main"><h1>@tybalt/parser</h1>
<p>Tybalt's package for parsing web component attributes.</p>
<h2>Motivation</h2>
<p>All web component attribute values are strings, because that's how html works. However, this is inconvenient sometimes for programming, where it can be easier to work with more complex data types, like objects.</p>
<p>Tybalt does its best to parse what it thinks you intend to pass using the <code>standard</code> parser. If you pass the string <code>true</code> or <code>false</code>, it will assume that you intend to pass a boolean, rather than a string. This can be problematic, for instance when you do want to pass the string "true" or "false". To handle these cases, the parser package exports a variety of parsers to match common data types that are passed in attributes between custom elements.</p>
<h2>Installation</h2>
<p>Install the parser with your favorite npm client</p>
<pre><code class="language-shell">npm install --save @tybalt/parser
</code></pre>
<h2>Usage</h2>
<p>To use a new parser, import it and pass it as the <code>parser</code> key on a prop definition as follows</p>
<pre><code class="language-js">import { json } from '@tybalt/parser';

defineComponent({
  props: {
    option: {
      validator: (obj) =&gt; !!obj.requiredKey
      parser: json
    }
  }
})
</code></pre>
<p>Now, when your custom element gets a new value passed to it, the value will be parsed using the custom parser.</p>
<h2>Api</h2>
<p>There are five parsers currently: <code>boolean</code>, <code>json</code>, <code>number</code>, <code>standard</code>, and <code>string</code>.</p>
<h3>boolean</h3>
<p>This parser supports tri-state booleans, and returns <code>null</code> for all values other than <code>true</code> and <code>false</code>.</p>
<pre><code class="language-js">import { boolean } from '@tybalt/parser';

defineComponent({
    props: {
        option: {
            parser: boolean,
        },
    },
});
</code></pre>
<h3>json</h3>
<p>This parser assumes the contents of the attribute string are valid json, and then calls <code>JSON.parse</code> on the contents and passes the resulting object.</p>
<pre><code class="language-js">import { json } from '@tybalt/parser';

defineComponent({
    props: {
        option: {
            parser: json,
        },
    },
});
</code></pre>
<h3>number</h3>
<p>This parser returns a number from its string representation.</p>
<pre><code class="language-js">import { number } from '@tybalt/parser';

defineComponent({
    props: {
        option: {
            parser: number,
        },
    },
});
</code></pre>
<h3>standard</h3>
<p>This is the standard parser used by Tybalt components. It makes its best guess, bless its heart, but it is kinda dumb sometimes.</p>
<pre><code class="language-js">import { standard } from '@tybalt/parser';

defineComponent({
    props: {
        option: {
            parser: standard,
        },
    },
});
</code></pre>
<h3>string</h3>
<p>Returns the string value passed to the web component attribute directly, as-is. The identity function of web component attribute parsers.</p>
<pre><code class="language-js">import { string } from '@tybalt/parser';

defineComponent({
    props: {
        option: {
            parser: string,
        },
    },
});
</code></pre>
</div>
            </div>
            <tybalt-footer></tybalt-footer>
        </div>
        <script src="https://unpkg.com/prismjs@v1.x/components/prism-core.min.js"></script>
        <script src="https://unpkg.com/prismjs@v1.x/plugins/autoloader/prism-autoloader.min.js"></script>
        <!-- Google tag (gtag.js) -->
        <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-90R0R9Y7VG"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());

            gtag('config', 'G-90R0R9Y7VG');
        </script>
    

<script src="/tybalt-out.js"></script></body></html>